# 1A2B 猜数字游戏

一个基于命令行界面的 1A2B（Bulls and Cows）猜数字游戏，采用 Python 实现。

## 🎯 游戏介绍

1A2B 猜数字是一个经典的数字推理游戏：
- 电脑生成一个由 4 个不重复数字组成的秘密数字
- 玩家通过 CLI 界面输入猜测
- 系统提供 XA YB 格式的反馈
- 目标是用最少的猜测次数得到 4A0B（完全正确）

## 📋 游戏规则

### 反馈系统
- **A (公牛)**：位置和数字都正确的个数
- **B (母牛)**：数字正确但位置错误的个数

### 示例
如果谜底是 `1234`：
- 猜 `5678` → `0A0B` (没有数字正确)
- 猜 `1672` → `1A1B` (1在正确位置，2在错误位置)
- 猜 `1243` → `2A2B` (1,4在正确位置，2,3在错误位置)
- 猜 `1234` → `4A0B` (完全正确！)

## 🚀 如何运行

### 前提条件
- Python 3.8 或更高版本

### 运行游戏
```bash
cd 1a2b_mcp
python main.py
```

或者：
```bash
cd 1a2b_mcp
python -m main
```

## 📁 项目结构

```
1a2b_mcp/
├── main.py              # 主程序入口
├── game/                # 游戏逻辑包
│   ├── __init__.py
│   ├── game_engine.py   # 核心游戏逻辑
│   ├── validator.py     # 输入验证
│   └── display.py       # CLI显示界面
└── README.md           # 本文件
```

## 🎮 游戏特性

### 输入验证
- 必须输入恰好 4 位数字
- 4 个数字不能重复
- 智能错误提示

### 用户界面
- 清晰的游戏规则说明
- 彩色 emoji 图标增强体验
- 猜测历史记录显示
- 性能评价系统

### 游戏流程
- 欢迎界面和规则介绍
- 实时反馈显示
- 每 3 次猜测显示历史记录
- 胜利庆祝和统计信息
- 支持连续游戏

## 🏆 性能评价

游戏会根据你的猜测次数给出评价：
- ≤ 5 次：🌟 太棒了！您是猜数字高手！
- ≤ 8 次：👍 很不错的表现！
- ≤ 12 次：✅ 不错，继续努力！
- \> 12 次：💪 虽然用了很多次，但坚持就是胜利！

## 🛠️ 技术特点

### 模块化设计
- **GameEngine**: 核心游戏逻辑和状态管理
- **InputValidator**: 用户输入验证
- **GameDisplay**: CLI 界面显示
- **Game1A2B**: 主游戏控制器

### 错误处理
- 优雅处理 Ctrl+C 中断
- EOF 异常处理
- 输入验证错误处理
- 系统异常捕获

### 国际化
- 支持中文界面
- 多种输入选项（y/yes/是/1）

## 🎯 游戏策略提示

1. **数字排除法**：根据 0A0B 的结果排除不包含的数字
2. **位置推理**：利用 A 和 B 的数量推断数字位置
3. **逐步缩小范围**：每次猜测都要最大化信息获取
4. **记录历史**：利用之前的猜测结果进行推理

## 📝 开发说明

### 核心算法
- 使用 `random.sample()` 生成不重复的随机数字
- 高效的 A/B 计算算法
- 基于字典的数字计数方式

### 代码质量
- 完整的类型注解
- 详细的文档字符串
- 模块化的架构设计
- 符合 PEP 8 规范

## 🔧 扩展可能

- [ ] 添加不同难度级别（3位、5位、6位数字）
- [ ] 实现 AI 自动求解器
- [ ] 添加游戏记录和统计功能
- [ ] 支持多人对战模式
- [ ] 创建图形界面版本

## 📄 许可证

本项目采用 MIT 许可证。
